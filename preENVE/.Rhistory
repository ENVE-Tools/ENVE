file <- as.data.frame(read.delim(paste(cbs_file_dir,files[k,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[k,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
##########################################################################################################################################
m_samps_for_x <- t(combn(m_samps,2))
m_samps_for_x <- cbind(m_samps_for_x,paste(m_samps_for_x[,1],m_samps_for_x[,2],sep='_'),paste(m_samps_for_x[,2],m_samps_for_x[,1],sep='_'))
m_samps_for_x <- as.data.frame(append(m_samps_for_x[,3],m_samps_for_x[,4]),stringsAsFactors = F)
f_samps_for_x <- t(combn(f_samps,2))
f_samps_for_x <- cbind(f_samps_for_x,paste(f_samps_for_x[,1],f_samps_for_x[,2],sep='_'),paste(f_samps_for_x[,2],f_samps_for_x[,1],sep='_'))
f_samps_for_x <- as.data.frame(append(f_samps_for_x[,3],f_samps_for_x[,4]),stringsAsFactors = F)
samps_for_x <- as.data.frame(append(m_samps_for_x[,1],f_samps_for_x[,1]),stringsAsFactors = F)
test <- samps_for_x
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[23,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[23,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
#############################################################################################################################################3
samps_for_y <- m_samps_for_x
test <- samps_for_y
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[24,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[24,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
###############################################################################################################################################
}
for(n in seq(from=5, to=14, by=3))
{
cbs_file_samp <- paste(samp_Enve,paste('CBS_out_NormNorm',n,'Samps',sep='_'),sep='/')
dir.create(cbs_file_samp)
for(l in 1:10)
{
print(paste(paste("samp",n,sep='-'),paste("run",l,sep='-'),sep='_'))
m_samps <- sample(M_SAMPS,n)
f_samps <- sample(F_SAMPS,n)
mf_samp <- append(m_samps,f_samps)
mf_samp2 <- t(combn(mf_samp,2))
mf_samp3 <-cbind(mf_samp2,paste(mf_samp2[,1],mf_samp2[,2],sep='_'),paste(mf_samp2[,2],mf_samp2[,1],sep='_'))
mf_samp4 <- as.data.frame(append(mf_samp3[,3],mf_samp3[,4]),stringsAsFactors = F)
cbs_file_dir <- '/Projects/ran_samp_ENVE/CBS_Out_NormNorm'
files <-as.data.frame(list.files(cbs_file_dir,pattern = NULL, full.names = F,recursive = F,ignore.case=F,include.dirs = F),stringsAsFactors = F)
cbs_file_samp_run <- paste(cbs_file_samp,paste("Run",l,sep='-'),sep='/')
dir.create(cbs_file_samp_run)
test <- mf_samp4
for(k in 1:length(files[1:22,1]))
{
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[k,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[k,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
##########################################################################################################################################
m_samps_for_x <- t(combn(m_samps,2))
m_samps_for_x <- cbind(m_samps_for_x,paste(m_samps_for_x[,1],m_samps_for_x[,2],sep='_'),paste(m_samps_for_x[,2],m_samps_for_x[,1],sep='_'))
m_samps_for_x <- as.data.frame(append(m_samps_for_x[,3],m_samps_for_x[,4]),stringsAsFactors = F)
f_samps_for_x <- t(combn(f_samps,2))
f_samps_for_x <- cbind(f_samps_for_x,paste(f_samps_for_x[,1],f_samps_for_x[,2],sep='_'),paste(f_samps_for_x[,2],f_samps_for_x[,1],sep='_'))
f_samps_for_x <- as.data.frame(append(f_samps_for_x[,3],f_samps_for_x[,4]),stringsAsFactors = F)
samps_for_x <- as.data.frame(append(m_samps_for_x[,1],f_samps_for_x[,1]),stringsAsFactors = F)
test <- samps_for_x
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[23,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[23,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
#############################################################################################################################################3
samps_for_y <- m_samps_for_x
test <- samps_for_y
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[24,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[24,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
###############################################################################################################################################
}
rm(list=ls())
source("/Projects/enve_2/scripts/dwnPack.R")
dwnPack("DNAcopy")
dwnPack("stringr")
dwnPack("permute")
dwnPack("fExtremes")
dwnPack("IRanges")
samples <- as.data.frame(read.delim(file ="/Users/salendra/Desktop/shail/samples.txt",header=T,sep ='\t' ),row.names=NULL,optional = T, stringsAsFactors = F)
samples <- sapply(samples, as.character)
F_SAMPS <- samples[1:16,1]
M_SAMPS <- samples[1:14,2]
samp_Enve <- "/Projects/ran_samp_ENVE/"
for(n in seq(from=5, to=14, by=3))
{
cbs_file_samp <- paste(samp_Enve,paste('CBS_out_NormNorm',a,'Samps',sep='_'),sep='/')
dir.create(cbs_file_samp)
for(l in 1:10)
{
print(paste(paste("samp",n,sep='-'),paste("run",l,sep='-'),sep='_'))
m_samps <- sample(M_SAMPS,n)
f_samps <- sample(F_SAMPS,n)
mf_samp <- append(m_samps,f_samps)
mf_samp2 <- t(combn(mf_samp,2))
mf_samp3 <-cbind(mf_samp2,paste(mf_samp2[,1],mf_samp2[,2],sep='_'),paste(mf_samp2[,2],mf_samp2[,1],sep='_'))
mf_samp4 <- as.data.frame(append(mf_samp3[,3],mf_samp3[,4]),stringsAsFactors = F)
cbs_file_dir <- '/Projects/ran_samp_ENVE/CBS_Out_NormNorm'
files <-as.data.frame(list.files(cbs_file_dir,pattern = NULL, full.names = F,recursive = F,ignore.case=F,include.dirs = F),stringsAsFactors = F)
cbs_file_samp_run <- paste(cbs_file_samp,paste("Run",l,sep='-'),sep='/')
dir.create(cbs_file_samp_run)
test <- mf_samp4
write.table(mf_samp,paste(cbs_file_samp_run,'Samples.txt',sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
for(k in 1:length(files[1:22,1]))
{
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[k,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[k,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
##########################################################################################################################################
m_samps_for_x <- t(combn(m_samps,2))
m_samps_for_x <- cbind(m_samps_for_x,paste(m_samps_for_x[,1],m_samps_for_x[,2],sep='_'),paste(m_samps_for_x[,2],m_samps_for_x[,1],sep='_'))
m_samps_for_x <- as.data.frame(append(m_samps_for_x[,3],m_samps_for_x[,4]),stringsAsFactors = F)
f_samps_for_x <- t(combn(f_samps,2))
f_samps_for_x <- cbind(f_samps_for_x,paste(f_samps_for_x[,1],f_samps_for_x[,2],sep='_'),paste(f_samps_for_x[,2],f_samps_for_x[,1],sep='_'))
f_samps_for_x <- as.data.frame(append(f_samps_for_x[,3],f_samps_for_x[,4]),stringsAsFactors = F)
samps_for_x <- as.data.frame(append(m_samps_for_x[,1],f_samps_for_x[,1]),stringsAsFactors = F)
test <- samps_for_x
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[23,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[23,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
#############################################################################################################################################3
samps_for_y <- m_samps_for_x
test <- samps_for_y
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[24,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[24,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
###############################################################################################################################################
}
for(n in seq(from=5, to=14, by=3))
{
cbs_file_samp <- paste(samp_Enve,paste('CBS_out_NormNorm',n,'Samps',sep='_'),sep='/')
dir.create(cbs_file_samp)
for(l in 1:10)
{
print(paste(paste("samp",n,sep='-'),paste("run",l,sep='-'),sep='_'))
m_samps <- sample(M_SAMPS,n)
f_samps <- sample(F_SAMPS,n)
mf_samp <- append(m_samps,f_samps)
mf_samp2 <- t(combn(mf_samp,2))
mf_samp3 <-cbind(mf_samp2,paste(mf_samp2[,1],mf_samp2[,2],sep='_'),paste(mf_samp2[,2],mf_samp2[,1],sep='_'))
mf_samp4 <- as.data.frame(append(mf_samp3[,3],mf_samp3[,4]),stringsAsFactors = F)
cbs_file_dir <- '/Projects/ran_samp_ENVE/CBS_Out_NormNorm'
files <-as.data.frame(list.files(cbs_file_dir,pattern = NULL, full.names = F,recursive = F,ignore.case=F,include.dirs = F),stringsAsFactors = F)
cbs_file_samp_run <- paste(cbs_file_samp,paste("Run",l,sep='-'),sep='/')
dir.create(cbs_file_samp_run)
test <- mf_samp4
write.table(mf_samp,paste(cbs_file_samp_run,'Samples.txt',sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
for(k in 1:length(files[1:22,1]))
{
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[k,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[k,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
##########################################################################################################################################
m_samps_for_x <- t(combn(m_samps,2))
m_samps_for_x <- cbind(m_samps_for_x,paste(m_samps_for_x[,1],m_samps_for_x[,2],sep='_'),paste(m_samps_for_x[,2],m_samps_for_x[,1],sep='_'))
m_samps_for_x <- as.data.frame(append(m_samps_for_x[,3],m_samps_for_x[,4]),stringsAsFactors = F)
f_samps_for_x <- t(combn(f_samps,2))
f_samps_for_x <- cbind(f_samps_for_x,paste(f_samps_for_x[,1],f_samps_for_x[,2],sep='_'),paste(f_samps_for_x[,2],f_samps_for_x[,1],sep='_'))
f_samps_for_x <- as.data.frame(append(f_samps_for_x[,3],f_samps_for_x[,4]),stringsAsFactors = F)
samps_for_x <- as.data.frame(append(m_samps_for_x[,1],f_samps_for_x[,1]),stringsAsFactors = F)
test <- samps_for_x
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[23,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[23,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
#############################################################################################################################################3
samps_for_y <- m_samps_for_x
test <- samps_for_y
file <- as.data.frame(read.delim(paste(cbs_file_dir,files[24,1],sep='/'),header=F, sep='\t'), stringsAsFactors = F)
x_res <- NULL
#n= 0
for(i in 1:length(file[,1]))
{
#print(paste("i",i,sep='-'))
#print("file")
for(j in 1:length(test[,1]))
{
#print(paste("j",j,sep='-'))
#print("test")
if(file[i,1]==test[j,1]){
#n = n+1
x_res <- rbind(file[i,],x_res)
#print(paste("n",n,sep='-'))
}else
{
#print("no")
}
}
}
write.table(x_res,paste(cbs_file_samp_run,files[24,1],sep='/'), append = F, sep='\t',eol="\n",na="NA",row.names=F,col.names=F)
}
###############################################################################################################################################
}
x <- try(1=2,slient = FALSE)
x <- try(1==2,slient = FALSE)
x <- try(1==2,silent = FALSE)
x = try(1==2)
x = try(1=-2)
try(x = 1=-2)
try(x = 1=-2, silent=T)
try(x = 1==2, silent=T)
try(1==2, silent=T)
try(1==2, silent=F)
try(1==1, silent=F)
try(log("a"))
options(show.error.messages = FALSE)
try(log("a"))
print(try(log("a"), TRUE))
library(utils)
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste(rvers$maj, rvers$min, sep="."))
})
install.packages("estimate", repos=mdacc, dependencies=TRUE)
library(utils)
mdacc <- local({
+   rvers <- getRversion()
+   repos.hostname <-"bioinformatics.mdanderson.org"
+   sprintf("http://%s/OOMPA/%s",
+           repos.hostname,
+           paste(rvers$maj, rvers$min, sep="."))
+ })
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste(rvers$maj, rvers$min, sep="."))
})
mdacc
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste("3"$maj, rvers$min, sep="."))
})
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste("3",$maj, rvers$min, sep="."))
})
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste("3",$maj,rvers$min, sep="."))
})
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste("3.0")
})
mdacc <- local({
rvers <- getRversion()
repos.hostname <-"bioinformatics.mdanderson.org"
sprintf("http://%s/OOMPA/%s",
repos.hostname,
paste("3.0"))
})
mdacc
install.packages("estimate", repos=mdacc, dependencies=TRUE)
install.packages("~/Desktop/estimate_1.0.11.tgz", repos = NULL)
library(estimate)
estiamte
require(ggplot2)
rm(list=ls())
preENVE <- getwd()
preENVE <- getwd()
preENVE <- '/Projects/ENVE-1.0-Beta/preENVE'
setwd(preENVE)
source(paste(preENVE,"Scripts","engine.R",sep='/'))
source(paste(preENVE,"Scripts","Settings.txt",sep='/'))
source(paste(preENVE,"Scripts","preENVE_PROJ_Config.txt",sep='/'))
source(paste(preENVE,"Scripts","preENVE_PROJ_Config.txt",sep='/'))
dir_create()
samp_info_proc(samp_info_file)
samp_info_proc(samp_info_file)
rm(list=ls())
preENVE <- getwd()
preENVE <- '/Projects/ENVE-1.0-Beta/preENVE'
setwd(preENVE)
source(paste(preENVE,"Scripts","engine.R",sep='/'))
source(paste(preENVE,"Scripts","Settings.txt",sep='/'))
source(paste(preENVE,"Scripts","preENVE_PROJ_Config.txt",sep='/'))
dwnPack("plyr")
dir_create()
samp_info_proc(samp_info_file)
source(paste(preENVE,"Scripts","Settings.txt",sep='/'))
source(paste(preENVE,"Scripts","preENVE_PROJ_Config.txt",sep='/'))
samp_info_proc(samp_info_file)
NorNor_dataRatio_calc()
NorNorScript_gen(NorNor_samp_DataRatio)
source(paste(preENVE,"Scripts","engine.R",sep='/'))
NorNorScript_gen(NorNor_samp_DataRatio)
